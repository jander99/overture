{{!
  Overture CLAUDE.md Template

  Generates the content for the Overture-managed section in CLAUDE.md.
  This template produces ONLY the managed content - the generator wraps it with markers.

  Follows the Nx MCP pattern for safe, non-destructive updates.
}}
## Overture Project Configuration

{{#if projectName}}
  **Project:**
  {{projectName}}
  {{#if projectType}} ({{projectType}}){{/if}}

  {{#if projectDescription}}
    {{projectDescription}}

  {{/if}}
{{/if}}
## Configured Plugins The following Claude Code plugins are configured for this
project:

{{#if plugins}}
  {{#each plugins}}
    ###
    {{name}}

    - **Marketplace:**
    {{marketplace}}
    - **Status:**
    {{#if enabled}}✅ Enabled{{else}}⚠️ Disabled{{/if}}
    {{#if mcps}}
      - **MCPs:**
      {{#each mcps}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}
    {{/if}}

  {{/each}}
{{else}}
  No plugins configured.

{{/if}}
## MCP Servers

{{#if mcps}}
  {{#each mcps}}
    {{#if (eq scope 'global')}}
      ###
      {{name}}
      (Global) Configured globally in `~/.claude.json`.

    {{/if}}
    {{#if (eq scope 'project')}}
      ###
      {{name}}
      (Project)

      {{#if command}}
        **Command:** `{{command}}{{#if args}}
          {{#each args}}{{this}}{{#unless @last}}{{/unless}}{{/each}}{{/if}}`
      {{/if}}
      **Status:**
      {{#if enabled}}✅ Enabled{{else}}⚠️ Disabled{{/if}}

    {{/if}}
  {{/each}}
{{else}}
  No MCP servers configured.

{{/if}}
## Plugin→MCP Guidance

{{#if plugins}}
  {{#each plugins}}
    {{#if mcps}}
      **When using `{{name}}` plugin:**
      {{#each mcps}}
        - Use `{{this}}` MCP
      {{/each}}

    {{/if}}
  {{/each}}
{{else}}
  No plugin→MCP mappings defined.

{{/if}}
--- *This section is managed by Overture. To preserve custom content, add it
above or below the Overture markers.*